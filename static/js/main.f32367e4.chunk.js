(this["webpackJsonpbuild-history-layout"]=this["webpackJsonpbuild-history-layout"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var i,a,c,r,s=n(0),o=n.n(s),l=n(16),d=n.n(l),b=n(12),u=n(30),m=n(18),j=n(31),h=(n(44),n(45),n(13)),p=n(4),x=(n(46),n(5)),O=n(6),f=n(1),g=O.a.button(i||(i=Object(x.a)(["\n  padding: ",";\n  border: 2px solid transparent;\n  border-radius: 4px;\n  background-color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:focus {\n    border: 2px solid ",";\n  }\n\n  @media screen and (max-width: 840px) {\n    font-size: ",";\n  }\n"])),(function(e){return e.isSettings?"5px 8px":"10px 13px"}),(function(e){return e.isGray?"#E6E6E6":"#fc0"}),(function(e){return e.isGray?"#DBDBDB":"#F2C200"}),(function(e){return e.isGray?"#B3B3B3":"#B38F00"}),(function(e){return e.isSettings?"0":"inherit"})),v=Object(O.a)(g)(a||(a=Object(x.a)(["\n  cursor: auto;\n  background-color: #f2f2f2;\n  color: rgba(0, 0, 0, 0.5);\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  &:focus {\n    border: none;\n  }\n"])));function y(e){var t=e.label,n=e.onClick,i=e.icon,a=e.type,c=void 0===a?"button":a,r=e.isGray,s=void 0!==r&&r,o=e.isDisabled,l=void 0!==o&&o,d=e.isSettings,b=void 0!==d&&d,u=function(e){var t=e.icon,n=e.label;return Object(f.jsxs)("div",{children:[t?Object(f.jsx)("img",{src:t,alt:""}):""," ",Object(f.jsx)("span",{children:" "})," ",n]})};return l?Object(f.jsx)(v,{as:c,onClick:function(){},children:Object(f.jsx)(u,{icon:i,label:t})}):Object(f.jsx)(g,{isSettings:b,isGray:s,as:c,onClick:n,children:Object(f.jsx)(u,{icon:i,label:t})})}var N=O.a.div(c||(c=Object(x.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nmargin-top: 1rem;\n@media screen and (max-width: 840px) {\n  align-items: flex-start;\n}\n"]))),k=O.a.h2(r||(r=Object(x.a)(["\ncolor: ",";\nfont-size: 24px;\nfont-weight: ",";\n\n@media screen and (max-width: 840px) {\n  font-size: 18px\n}\n"])),(function(e){return e.titleColor}),(function(e){return e.isBold?500:100}));function w(e){var t=e.title,n=e.titleColor,i=void 0===n?"black":n,a=e.isBold;return Object(f.jsx)(o.a.Fragment,{children:Object(f.jsxs)(N,{children:[Object(f.jsx)(k,{titleColor:i,isBold:a,children:t}),e.children]})})}var C=n.p+"static/media/instruments.138de78f.svg",T=n.p+"static/media/cog.3972ffc2.svg";var M=function(){return Object(f.jsxs)("div",{className:"history-page",children:[Object(f.jsx)(w,{title:"School CI server",titleColor:"#7F8285",children:Object(f.jsx)(h.b,{to:"/settings",children:Object(f.jsx)(y,{label:"Settings",isSettings:!0,isGray:!0,icon:T})})}),Object(f.jsxs)("div",{className:"history-content",children:[Object(f.jsx)("img",{src:C,alt:"logo"}),Object(f.jsx)("p",{children:"Configure repository connection and synchronization settings"}),Object(f.jsx)(h.b,{to:"/settings",children:Object(f.jsx)(y,{label:"Open settings"})})]})]})},E=(n(51),n(21)),S=n(11),B=n(17),F=n(36),D=n.n(F),H=n(19),G=n.n(H),P=n(23),I=n(77),L=[{id:Object(I.a)(),commitNumber:"1368",commitMessage:"add documentation for postgres scaler",branchName:"master",commitHash:"9c9f0b9",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"},{id:Object(I.a)(),commitNumber:"1367",commitMessage:"Super cool UI kit for making websites that look like games",branchName:"super-cool-ui-kit",commitHash:"952e5567",authorName:"Vadim Makeev",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"failure"},{id:Object(I.a)(),commitNumber:"1366",commitMessage:"Merge branch 'master' of github.com:jaywcjlove/awesome",branchName:"master",commitHash:"b4636ab",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"pending"},{id:Object(I.a)(),commitNumber:"1365",commitMessage:"upgrade typescript to 3.8",branchName:"master",commitHash:"b4636ab",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"},{id:Object(I.a)(),commitNumber:"1364",commitMessage:"add documentation for postgres scaler",branchName:"master",commitHash:"b4636ab",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"},{id:Object(I.a)(),commitNumber:"1363",commitMessage:"replace all `div` to `article`",branchName:"master",commitHash:"952e5567",authorName:"Vadim Makeev",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"failure"},{id:Object(I.a)(),commitNumber:"1362",commitMessage:"improved accessibility",branchName:"master",commitHash:"e41e4cc",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"},{id:Object(I.a)(),commitNumber:"1350",commitMessage:"fix: upload \u522b\u7247\u7c7b\u578b",branchName:"master",commitHash:"e41e4cc",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"},{id:Object(I.a)(),commitNumber:"1349",commitMessage:"Form item has default height align with form size",branchName:"master",commitHash:"e41e4cc",authorName:"Philip Kirkorov",buildDay:"21",buildMonth:"1",buildTimestamp:"03:06",buildTimeH:"1",buildTimeM:"20",result:"success"}];function z(e){return new Promise((function(t){return setTimeout(t,e)}))}function A(){return _.apply(this,arguments)}function _(){return(_=Object(P.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(1e3);case 2:return e.abrupt("return",L);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K,R="SAVE_REPO_INFO",U="API/GET_BUILDS",q="API/GET_BUILDS_SUCCESS",V="API/GET_BUILDS_FAILURE";function J(e){return function(t){t({type:R,payload:e})}}function Y(){return function(){var e=Object(P.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:U}),e.prev=1,e.next=4,A().then((function(e){return t({type:q,payload:e})}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),t({type:V});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()}var W=O.a.form(K||(K=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n"])));function Q(){var e=Object(p.f)(),t=Object(b.c)(),n=Object(s.useState)({repoName:"",buildCommand:"",mainBranch:"",interval:""}),i=Object(B.a)(n,2),a=i[0],c=i[1],r=function(e){c(Object(S.a)(Object(S.a)({},a),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)(W,{children:[Object(f.jsxs)("label",{htmlFor:"repoName",children:["GitHub repository ",Object(f.jsx)("span",{className:"asterisk",children:" *"})]}),Object(f.jsx)("input",{onChange:r,type:"text",name:"repoName",placeholder:"user-name/repo-name",required:!0}),Object(f.jsxs)("label",{htmlFor:"buildCommand",children:["Build command ",Object(f.jsx)("span",{className:"asterisk",children:" *"})]}),Object(f.jsx)("input",{onChange:r,type:"text",name:"buildCommand",placeholder:"npm install",required:!0}),Object(f.jsx)("label",{htmlFor:"mainBranch",children:"Main branch"}),Object(f.jsx)("input",{onChange:r,type:"text",name:"mainBranch",placeholder:"master",required:!0}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"Synchronize every "}),Object(f.jsx)(D.a,{onChange:r,name:"interval",className:"minute-input",mask:[/[1-9]/,/\d+/]}),Object(f.jsx)("span",{children:" minutes"})]}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)(y,{onClick:function(n){n.preventDefault(),a.repoName&&a.buildCommand&&a.mainBranch&&a.interval&&(t(J(a)),e.push("/builds"))},label:"Save"}),Object(f.jsx)(h.b,{to:"/home",children:Object(f.jsx)(y,{label:"Cancel",isGray:"true"})})]})]})}var X,Z,$=function(){return Object(f.jsxs)("div",{className:"settings-form",children:[Object(f.jsx)("header",{className:"text-gray",children:Object(f.jsx)(w,{title:"School CI server",titleColor:"#7F8285"})}),Object(f.jsxs)("div",{className:"settings-info",children:[Object(f.jsx)("p",{className:"description",children:"Settings"}),Object(f.jsx)("p",{className:"text-gray",children:"Configure repository connection and synchronization settings."})]}),Object(f.jsx)(Q,{})]})},ee=n(24),te=n.n(ee);n(71);function ne(e){var t=e.children,n=e.parent,i=e.className,a=o.a.useMemo((function(){return document.createElement("div")}),[]);return o.a.useEffect((function(){var e=n&&n.appendChild?n:document.body,t=["portal-container"];return i&&i.split(" ").forEach((function(e){return t.push(e)})),t.forEach((function(e){return a.classList.add(e)})),e.appendChild(a),function(){e.removeChild(a)}}),[a,n,i]),d.a.createPortal(t,a)}var ie=O.a.div(X||(X=Object(x.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(51, 51, 51, 0.3);\n  backdrop-filter: blur(1px);\n  opacity: 0;\n  transition: all 100ms cubic-bezier(0.4, 0, 0.2, 1);\n  transition-delay: 200ms;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  & .modal-content {\n    transform: translateY(100px);\n    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);\n    opacity: 0;\n  }\n\n  &.active {\n    transition-duration: 250ms;\n    transition-delay: 0ms;\n    opacity: 1;\n\n    & .modal-content {\n      transform: translateY(0);\n      opacity: 1;\n      transition-delay: 150ms;\n      transition-duration: 350ms;\n    }\n  }\n"]))),ae=O.a.div(Z||(Z=Object(x.a)(["\n  position: relative;\n  padding: 2rem;\n  box-sizing: border-box;\n  min-height: 50px;\n  min-width: 50px;\n  max-height: 80%;\n  max-width: 80%;\n  box-shadow: 0px 6px 16px 0px #4344454D, 0px 0px 1px 0px #4344454D;\n  background-color: white;\n  border-radius: 4px;\n"])));function ce(e){var t=Object(s.useState)(!1),n=Object(B.a)(t,2),i=n[0],a=n[1],c=e.open,r=e.onClose,l=e.locked,d=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=d.current,t=function(){return a(c)},n=function(e){return!l&&[27].indexOf(e.which)>=0&&r()},i=function(t){return!l&&t.target===e&&r()};return e&&(e.addEventListener("transitionend",t),e.addEventListener("click",i),window.addEventListener("keyup",n)),c&&window.setTimeout((function(){document.activeElement.blur(),a(c),document.querySelector("#root").setAttribute("inert","true")}),10),function(){e&&(e.removeEventListener("transitionend",t),e.removeEventListener("click",i)),document.querySelector("#root").removeAttribute("inert"),window.removeEventListener("keyup",n)}}),[c,l,r]),Object(f.jsx)(o.a.Fragment,{children:(c||i)&&Object(f.jsx)(ne,{className:"modal-portal",children:Object(f.jsx)(ie,{ref:d,className:i&&c&&"active",children:Object(f.jsx)(ae,{className:"modal-content",children:e.children})})})})}var re=n.p+"static/media/success.f0967a4d.svg",se=n.p+"static/media/failure.e5c28c40.svg",oe=n.p+"static/media/pending.9d0fda25.svg",le=n.p+"static/media/commit.dd9f0cca.svg",de=n.p+"static/media/calendar.721ff41d.svg",be=n.p+"static/media/clock.9a6ea995.svg",ue=n.p+"static/media/user.08ce57e7.svg";n(72);var me,je,he,pe=function(e){var t=e.buildObj,n={icon:{success:re,failure:se,pending:oe},color:{success:{color:"#00B341"},failure:{color:"#FF3333"},pending:{color:"#FF9A00"}}};return Object(f.jsxs)("div",{className:"build-card",children:[Object(f.jsx)("img",{src:n.icon[t.result],alt:t.result}),Object(f.jsxs)("div",{className:"card-info",children:[Object(f.jsxs)("div",{className:"commit-info",children:[Object(f.jsxs)("div",{className:"build-info",children:[Object(f.jsxs)("h3",{style:n.color[t.result],className:"commit-number",children:["#",t.commitNumber]}),Object(f.jsx)("p",{className:"commit-message",children:t.commitMessage})]}),Object(f.jsxs)("div",{className:"branch-info",children:[Object(f.jsx)("img",{src:le,alt:""}),Object(f.jsx)("p",{children:t.branchName}),Object(f.jsx)("p",{children:t.commitHash}),Object(f.jsxs)("p",{children:[Object(f.jsx)("img",{src:ue,alt:""}),t.authorName]})]})]}),Object(f.jsxs)("div",{className:"time-info",children:[Object(f.jsxs)("div",{className:"date",children:[Object(f.jsx)("img",{src:de,alt:""}),Object(f.jsxs)("p",{children:[" ",t.buildDay," ",{1:"\u044f\u043d\u0432",2:"\u0444\u0435\u0432",3:"\u043c\u0430\u0440",4:"\u0430\u043f\u0440",5:"\u043c\u0430\u044f",6:"\u0438\u044e\u043d",7:"\u0438\u044e\u043b",8:"\u0430\u0432\u0433",9:"\u0441\u0435\u043d",10:"\u043e\u043a\u0442",11:"\u043d\u043e\u044f",12:"\u0434\u0435\u043a"}[t.buildMonth],","," ",t.buildTimestamp]})]}),Object(f.jsxs)("div",{className:"build-time",children:[Object(f.jsx)("img",{src:be,alt:""}),Object(f.jsxs)("p",{children:[t.buildTimeH," \u0447 ",t.buildTimeM," \u043c\u0438\u043d"]})]})]})]})]})},xe=n.p+"static/media/triangle-right.608a4bfc.svg",Oe=O.a.div(me||(me=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),fe=O.a.input(je||(je=Object(x.a)(["\n  padding: 0.75rem 1.5rem;\n  flex: none;\n  border-radius: 6px;\n  border: 2px solid #d9d9d9;\n  flex-grow: 0;\n  width: 28rem;\n  @media screen and (max-width: 840px) {\n    width: auto;\n  }\n"]))),ge=O.a.div(he||(he=Object(x.a)(["\n  display: flex;\n  width: 10rem;\n  justify-content: space-between;\n  align-items: center;\n\n  @media screen and (max-width: 840px) {\n    justify-content: space-evenly;\n\n    & .btn {\n      font-size: 0;\n      width: 2rem;\n      height: 2rem;\n      padding: 0;\n    }\n  }\n"])));var ve,ye=Object(b.b)((function(e){return{loading:e.settings.loading,builds:e.settings.builds,hasErrors:e.settings.hasErrors,repoName:e.settings.repoName}}))((function(e){var t=e.buildsArr,n=e.repoName,i=e.loading,a=Object(s.useState)(!1),c=Object(B.a)(a,2),r=c[0],o=c[1],l=Object(b.c)(),d="philip1967/"+n;return Object(f.jsxs)("div",{className:"builds-container",children:[Object(f.jsx)(ce,{onClose:function(){o(!1)},open:r,children:Object(f.jsxs)(Oe,{children:[Object(f.jsx)("h3",{children:"New build"}),Object(f.jsx)("p",{children:"Enter the commit hash which you want to build."}),Object(f.jsx)(fe,{placeholder:"Commit hash"}),Object(f.jsxs)("div",{className:"modal-buttons",children:[Object(f.jsx)(y,{label:"Run build",onClick:function(){o(!1)}}),Object(f.jsx)(y,{isGray:!0,label:"Cancel",onClick:function(){o(!1)}})]})]})}),Object(f.jsx)(w,{isBold:!0,title:d,children:Object(f.jsxs)(ge,{children:[Object(f.jsx)(y,{onClick:function(){o(!0)},isSettings:!0,label:"Run build",icon:xe,isGray:!0}),Object(f.jsx)(h.b,{to:"/settings",children:Object(f.jsx)(y,{isSettings:!0,label:"",icon:T,isGray:!0})})]})}),Object(f.jsx)("div",{className:"commits",children:t.map((function(e){return Object(f.jsx)(pe,{buildObj:e},e.id)}))}),i?Object(f.jsx)(te.a,{type:"TailSpin",color:"#00BFFF",height:40,width:40}):Object(f.jsx)(y,{isGray:!0,label:"Show more",onClick:function(){return l(Y())}})]})})),Ne=O.a.div(ve||(ve=Object(x.a)(["\n  margin: auto;\n"])));var ke=Object(b.b)((function(e){return{loading:e.settings.loading,builds:e.settings.builds,hasErrors:e.settings.hasErrors,repoName:e.settings.repoName}}))((function(e){var t=e.loading,n=e.builds,i=e.hasErrors,a=e.repoName,c=Object(b.c)();return Object(s.useEffect)((function(){c(Y())}),[c]),!n.length&&t?Object(f.jsx)(Ne,{children:Object(f.jsx)(te.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})}):i?Object(f.jsx)("p",{children:"There appears to be an error with the server. Please try again."}):Object(f.jsx)(ye,{buildsArr:n,repoName:a})}));var we=function(){return Object(f.jsx)(h.a,{children:Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{path:"/settings",children:Object(f.jsx)($,{})}),Object(f.jsx)(p.a,{path:"/builds",children:Object(f.jsx)(ke,{})}),Object(f.jsx)(p.a,{path:"/",children:Object(f.jsx)(M,{})})]})})};n(73);var Ce=function(){return Object(f.jsx)("footer",{children:Object(f.jsxs)("div",{className:"footer-content-wrapper",children:[Object(f.jsxs)("div",{className:"links",children:[Object(f.jsx)("a",{href:"https://github.com/dpavloff",children:"Support"}),Object(f.jsx)("a",{href:"https://github.com/dpavloff",children:"Learning"}),Object(f.jsx)("a",{href:"https://github.com/dpavloff",children:"\u0420\u0443\u0441\u0441\u043a\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f"})]}),Object(f.jsx)("div",{className:"copyright",children:Object(f.jsxs)("p",{children:["\xa9 2021"," ",Object(f.jsx)("a",{href:"https://github.com/dpavloff",target:"_blank",rel:"noreferrer",children:"@dpavloff"})]})})]})})};var Te=function(){return Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)(we,{}),Object(f.jsx)(Ce,{})]})},Me=n(28),Ee={repoName:"",mainBranch:"",buildCommand:"",builds:[],interval:10,loading:!1,hasErrors:!1};var Se=Object(m.combineReducers)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(S.a)(Object(S.a)({},e),{},{repoName:t.payload.repoName,mainBranch:t.payload.mainBranch,buildCommand:t.payload.buildCommand,interval:t.payload.interval});case U:return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case q:return Object(S.a)(Object(S.a)({},e),{},{builds:[].concat(Object(Me.a)(e.builds),Object(Me.a)(t.payload)),loading:!1});case V:return Object(S.a)(Object(S.a)({},e),{},{loading:!1,hasErrors:!0});default:return e}}}),Be=Se,Fe=(n(74),Object(m.createStore)(Be,Object(j.composeWithDevTools)(Object(m.applyMiddleware)(u.a))));d.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(b.a,{store:Fe,children:Object(f.jsx)(Te,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.f32367e4.chunk.js.map